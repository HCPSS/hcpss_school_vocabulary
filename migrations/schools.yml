id: schools
label: 'School migrations'
migration_tags:
  - hcpss
  - taxonomy_term
  - schools
  - ongoing
migration_dependencies: []
source:
  plugin: url
  track_changes: true
  data_fetcher_plugin: file
  data_parser_plugin: json
  urls:
    - 'https://api.hocoschools.org/api/node/school'
    - 'https://api.hocoschools.org/api/node/school?page%5Boffset%5D=50&page%5Blimit%5D=50'
  item_selector: '/data'
  fields:
    - name: id
      label: ID
      selector: id
    - name: acronym
      label: Acronym
      selector: attributes/field_acronym
    - name: name
      label: Name
      selector: attributes/title
    - name: level
      label: Level
      selector: attributes/field_level
    - name: principal
      label: Principal
      selector: attributes/field_principal
  ids:
    id:
      type: string
process:
  name: name
  field_acronym: acronym
  field_principal: principal
  field_school_type: level
destination:
  plugin: 'entity:taxonomy_term'
  default_bundle: schools
